(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,26873,e=>{"use strict";e.s(["default",()=>v],26873);var t=e.i(43476),r=e.i(71645),s=e.i(61918);function a(e){let{item:s}=e,[a,i]=(0,r.useState)(null),[l,n]=(0,r.useState)(!1),c=(0,r.useRef)(!1),o=e=>e&&"string"==typeof e&&""!==e.trim()?e.startsWith("/api/proxy-image")?e:"/api/proxy-image?url=".concat(encodeURIComponent(e)):null,d=async()=>{if(!c.current){c.current=!0,n(!0);try{let e=await fetch("/api/card?id=".concat(encodeURIComponent(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/\/scale-to-width-down\/\d+/,"")}(s.id)))),t=await e.json();i((e=>{var t,r;let a={...e};return a.image=o(null!=(t=a.image)?t:s.image),a.yields=Array.isArray(a.yields)?a.yields.map(e=>{var t;return"string"==typeof e?o(e):null!=(t=o(null==e?void 0:e.image))?t:null}).filter(Boolean):[],a.requirements=Array.isArray(a.requirements)?a.requirements.map(e=>({level:e.level,images:(e.images||[]).map(e=>o(e)).filter(Boolean)})):[],a.stats=null!=(r=a.stats)?r:{},a})(t))}finally{n(!1)}}};return(0,t.jsx)("div",{className:"group [perspective:1000px] cursor-pointer",onMouseEnter:d,onClick:d,children:(0,t.jsxs)("div",{className:"relative w-full aspect-[3/4] [transform-style:preserve-3d] transition-transform duration-500 group-hover:[transform:rotateY(180deg)]",children:[(0,t.jsxs)("div",{className:"absolute inset-0 rounded-2xl overflow-hidden bg-black/40 border border-white/10 [backface-visibility:hidden]",children:[o(s.image)&&(0,t.jsx)("img",{src:o(s.image),alt:s.name,className:"h-2/3 w-full object-contain bg-black/20"}),(0,t.jsxs)("div",{className:"p-3",children:[(0,t.jsx)("p",{className:"text-white font-bold text-sm line-clamp-2",children:s.name}),(0,t.jsx)("p",{className:"text-white/70 text-xs",children:s.id.replace(/_/g," ")})]})]}),(0,t.jsx)("div",{className:"absolute inset-0 rounded-2xl overflow-hidden bg-[#0b0b0b]/90 border border-white/10 px-3 py-3 [transform:rotateY(180deg)] [backface-visibility:hidden]",children:l||!a?(0,t.jsxs)("div",{className:"h-full w-full animate-pulse space-y-3",children:[(0,t.jsx)("div",{className:"h-28 w-full bg-white/10 rounded-md"}),(0,t.jsx)("div",{className:"h-4 w-3/4 bg-white/10 rounded"}),(0,t.jsx)("div",{className:"h-3 w-2/3 bg-white/10 rounded"})]}):(0,t.jsxs)("div",{className:"h-full overflow-y-auto scrollbar-none space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[a.image&&(0,t.jsx)("img",{src:a.image,alt:a.title||s.name,className:"h-16 w-16 object-contain rounded"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-white font-semibold text-sm",children:a.title||s.name}),(0,t.jsxs)("p",{className:"text-white/70 text-xs",children:["#",a.creatureNo||"—"," • ",a.faction||"Unknown"," • ",a.rarity||"—"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-[11px] text-white/80",children:[(0,t.jsxs)("div",{className:"bg-white/5 rounded px-2 py-1",children:["Cost: ",a.stats.dragCost||"—"]}),(0,t.jsxs)("div",{className:"bg-white/5 rounded px-2 py-1",children:["HP: ",a.stats.hp||"—"]}),(0,t.jsxs)("div",{className:"bg-white/5 rounded px-2 py-1",children:["ATK: ",a.stats.atk||"—"]}),(0,t.jsxs)("div",{className:"bg-white/5 rounded px-2 py-1",children:["MAG: ",a.stats.mgc||"—"]}),(0,t.jsxs)("div",{className:"bg-white/5 rounded px-2 py-1 col-span-2",children:["CRT: ",a.stats.crt||"—"]})]}),a.yields.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-white text-xs mb-1",children:"Yields"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:a.yields.map((e,r)=>(0,t.jsx)("img",{src:e,className:"h-10 w-7 object-contain rounded bg-white/5",alt:""},r))})]}),a.requirements.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-white text-xs mb-1",children:"Requirements"}),(0,t.jsx)("div",{className:"space-y-1 max-h-20 overflow-y-auto pr-1",children:a.requirements.map((e,r)=>(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-[11px] text-white/70",children:e.level}),(0,t.jsx)("div",{className:"flex gap-0.5",children:e.images.map((e,r)=>(0,t.jsx)("img",{src:e,className:"h-5 w-5 rounded bg-white/10",alt:""},r))})]},r))})]})]})})]})})}function i(){return(0,t.jsxs)("div",{className:"relative w-full aspect-[3/4] rounded-2xl overflow-hidden bg-white/5 border border-white/10",children:[(0,t.jsx)("div",{className:"absolute inset-0 animate-pulse bg-gradient-to-br from-white/10 via-white/5 to-transparent"}),(0,t.jsx)("div",{className:"h-1/2 bg-white/10"}),(0,t.jsxs)("div",{className:"p-4 space-y-2",children:[(0,t.jsx)("div",{className:"h-4 w-2/3 bg-white/10 rounded"}),(0,t.jsx)("div",{className:"h-3 w-1/2 bg-white/10 rounded"})]})]})}var l={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},n=r.default.createContext&&r.default.createContext(l),c=["attr","size","title"];function o(){return(o=Object.assign.bind()).apply(this,arguments)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){var s,a,i;s=e,a=t,i=r[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in s?Object.defineProperty(s,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[a]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function m(e){return t=>r.default.createElement(h,o({attr:u({},e.attr)},t),function e(t){return t&&t.map((t,s)=>r.default.createElement(t.tag,u({key:s},t.attr),e(t.child)))}(e.child))}function h(e){var t=t=>{var s,{attr:a,size:i,title:l}=e,n=function(e,t){if(null==e)return{};var r,s,a=function(e,t){if(null==e)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,c),d=i||t.size||"1em";return t.className&&(s=t.className),e.className&&(s=(s?s+" ":"")+e.className),r.default.createElement("svg",o({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,n,{className:s,style:u(u({color:e.color||t.color},t.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&r.default.createElement("title",null,l),e.children)};return void 0!==n?r.default.createElement(n.Consumer,null,e=>t(e)):t(l)}function x(e){return m({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(e)}function p(e){return m({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34z"},child:[]}]})(e)}function g(e){let{value:s,onChange:a}=e,[i,l]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{if(!s.trim())return;let e=s.replace(/[^a-zA-Z0-9\s]/g,"").replace(/\s+/g," ");e!==s&&a(e)},[s,a]),(0,t.jsx)("div",{className:"w-full flex justify-center mt-6 mb-4 px-4",children:(0,t.jsxs)("div",{className:"relative w-full max-w-xl",children:[(0,t.jsx)(x,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 text-white/50 transition-all duration-300\n          ".concat(i?"scale-110 text-white":"")}),(0,t.jsx)("input",{type:"text",value:s,onFocus:()=>l(!0),onBlur:()=>l(!1),onChange:e=>a(e.target.value),placeholder:"Search cards...",className:"w-full px-12 pr-12 py-3 rounded-xl bg-white/10 text-white placeholder-white/50\n            outline-none transition-all duration-300\n            ".concat(i?"border-2 border-white shadow-[0_0_18px_rgba(255,255,255,0.35)] scale-[1.06]":"border border-white/20")}),s.length>0&&(0,t.jsx)("button",{onClick:()=>a(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-white/70 hover:text-white transition",children:(0,t.jsx)(p,{size:20})})]})})}var f=e.i(71652);function v(){let[e,l]=(0,r.useState)([]),[n,c]=(0,r.useState)(!0),[o,d]=(0,r.useState)("");(0,r.useEffect)(()=>{let e=!0;return(async()=>{c(!0);let t=await fetch("/api/cards",{cache:"no-store"}),r=await t.json();e&&(l(r.items||[]),c(!1))})(),()=>{e=!1}},[]);let u=(0,r.useMemo)(()=>e.map(e=>e.name),[e]),m=(0,r.useMemo)(()=>{let t=o.trim().toLowerCase();return t?e.filter(e=>e.name.toLowerCase().includes(t)):e},[e,o]);return(0,t.jsxs)("main",{className:"min-h-screen w-full relative",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-[url('/images/background_in_space.webp')] bg-cover bg-center opacity-30"}),(0,t.jsx)("div",{className:"absolute inset-0 bg-black/70"}),(0,t.jsx)(s.default,{}),(0,t.jsxs)("div",{className:"relative z-10 max-w-7xl mx-auto px-4 py-8",children:[(0,t.jsx)("div",{className:"w-full flex items-center justify-center mt-16 mb-4",children:(0,t.jsx)(g,{value:o,onChange:d,names:u,onAcceptSuggestion:()=>{}})}),n?(0,t.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 xl:grid-cols-6 gap-4 mt-6",children:Array.from({length:18}).map((e,r)=>(0,t.jsx)(i,{},r))}):(0,t.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 xl:grid-cols-6 gap-4 mt-6",children:m.map(e=>(0,t.jsx)(a,{item:e},e.id))}),(0,t.jsx)("p",{className:"text-white/60 text-xs mt-6",children:"Tip: hover or click any card to reveal details."}),(0,t.jsx)(f.default,{})]})]})}}]);